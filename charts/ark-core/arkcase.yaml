report:
  plugin:
    # This is the same URL as the application's main URL ...
    PENTAHO_SERVER_URL: "https://...."
    PENTAHO_SERVER_PORT: 8080

    # This is the internally-visible port where traffic will be proxied to/from
    PENTAHO_SERVER_INTERNAL_URL: "http://reports"
    PENTAHO_SERVER_INTERNAL_PORT: 8080

{{- $alfrescoUrl := (((.Values).configuration).content).url | default "http://content-main:8080/alfresco" -}}
{{- $alfresco := urlParse $alfrescoUrl -}}

alfresco:
  admin:
    baseurl: "{{- $alfrescoUrl -}}/s/enterprise/admin/admin-sync"
    username: {{ (((.Values).configuration).content).username | quote }}
    password: {{ (((.Values).configuration).content).password | quote }}

  sync:
    protocol: &alfrescoScheme {{ $alfresco.scheme | quote }}
    host: &alfrescoHost {{ $alfresco.host | quote }}
    port: &alfrescoPort {{ $alfresco.port }}
    username: &alfrescoUsername {{ (((.Values).configuration).content).username | quote }}
    password: &alfrescoPassword {{ (((.Values).configuration).content).password | quote }}

alfresco_protocol: *alfrescoScheme
alfresco_host: *alfrescoHost
alfresco_port: *alfrescoPort
alfresco_user: *alfrescoUsername
alfresco_password: *alfrescoPassword
alfresco_contextRoot: "alfresco"

application:
  properties:
    baseUrl: {{- application base url -}}

database:
#  platform: "org.eclipse.persistence.platform.database.MySQLPlatform"
 platform: "org.eclipse.persistence.platform.database.PostgreSQLPlatform"

 # Should this be "true" when SSL is active?
 encryption_enabled: false
 encryption_supported: true

acm:
  driverClassName: {{ include "arkcase.db.jdbc.url" . | quote }}
  schema: "arkcase"
  url: "jdbc:postgresql://rdbms:5432/arkcase?sslmode=disable"
  schema: "public"
  username: "arkcase"
  password: "ho!aKaeyoh-zo1do"
activiti.db.type: postgres

onlyoffice.plugin:
  arkcase.baseurl: {{- application base url -}}

solr:
  host: "search"
  port: 8983
  # Protocol can also be https
  protocol: "http"

acm.websockets:
  # Either TCP or SSL
  stomp_broker_relay.relay_protocol: "tcp"
  stomp_broker_relay.relay_host: "messaging"
  stomp_broker_relay.relay_port: 61613
  stomp_broker_relay.system_login: "arkcase"
  stomp_broker_relay.system_passcode: "Thoan-aeL[u>u7eC"

acm.hazelcast:
  log.folder: "/app/logs/"

# Change the domain to the correct domain ... ?
application.rolesToGroups:
  ROLE_ADMINISTRATOR:
  - ARKCASE_ADMINISTRATOR@DEV.ARKCASE.COM
  - ARKCASE_ENTITY_ADMINISTRATOR@DEV.ARKCASE.COM
  ROLE_BILLING_QUEUE:
  - ARKCASE_ADMINISTRATOR@DEV.ARKCASE.COM
  - ARKCASE_SUPERVISOR@DEV.ARKCASE.COM
  - ARKCASE_CONTRIBUTOR@DEV.ARKCASE.COM
  - ARKCASE_CONSUMER@DEV.ARKCASE.COM
  - ARKCASE_EXTERNAL@DEV.ARKCASE.COM
  ROLE_CONSUMER:
  - ARKCASE_CONSUMER@DEV.ARKCASE.COM
  ROLE_CONTRIBUTOR:
  - ARKCASE_CONTRIBUTOR@DEV.ARKCASE.COM
  ROLE_ENTITY_ADMINISTRATOR:
  - ARKCASE_ENTITY_ADMINISTRATOR@DEV.ARKCASE.COM
  ROLE_EXTERNAL:
  - ARKCASE_EXTERNAL@DEV.ARKCASE.COM
  ROLE_SUPERVISOR:
  - ARKCASE_SUPERVISOR@DEV.ARKCASE.COM
  - ARKCASE_ADMINISTRATOR@DEV.ARKCASE.COM

