# Default values for demochart.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

goodIPs: [ "1.2.3.4", "255.255.255.255", "0.0.0.0", "1.1.1.1", "1.023.3.33" ]
badIPs: [ "1.2.3.4", "www.google.com", "a", "255.255.255.255", "0.0.0.0", "255.255.255.256", "-bad hostname", "-.-.-", "some.hostname.com.", "some.hostname.com-", "non-single.hostname" ]


image:
  #registry: "RegistryName"
  repository: "SomeRepo/SomeImage"
  #tag: "TaggyMcTagTag"

global:
  imageRegistry: "GlobalRegistry"

initDependencies:
  enabled: true
  mode: any
  template:
    mode: ALL
  dependencies:
    config :
      delay: 15
      ports:
        - 9999
    rdbms :
      delay: 15
      ports:
        - 5432
    messaging :
      delay: 5
      ports:
        - 8161
        - 61616

dbinit:
  admin:
    # Form 1: Direct value
    # password: password

    # Form 2: Secret reference
    password:
      secretName: secretName
      secretKey: entryName

  # Describe the users that need to be created
  users:
    kakabert: "asdfasdf"
    onebert:
      password: pass4-1bert
    # ...
    twobert:
      password:
        secretName: twosecret
        secretKey: towentry

  # Describe the databases that need to be created
  databases:
    primus:
      owner: onebert

      # Describe the schemas that need to be created
      schemas:
        esquema: {}

    duopolis:
      owner: twobert

    triadia: "admin"

  scripts:
    - query: example query
      runAs: user (default admin)
      runOn: db-or-schema-name
      onlyFor:
        - psql
    - file: only-for-mariadb
      runAs: user (default admin)
      runOn: db-or-schema-name
      onlyFor:
        - mariadb
        - some: map
