{{- $foia := (include "arkcase.foia" $ | fromYaml) -}}
{{- if $foia -}}
{{- $baseUrl := (include "arkcase.tools.parseUrl" (include "arkcase.tools.conf" (dict "ctx" $ "value" "baseUrl")) | fromYaml) -}}
application:
  properties:
    basePortalUrl: "{{ $baseUrl.scheme }}://{{ $baseUrl.hostPort }}/foia"

external.integration:
  enable: true
  userId: "foia-admin@{{ $foia.ldap.domain }}"

gov.foia.broker:
  file_upload_url: "file:///app/fsrv/"
  url: {{ include "arkcase.core.messaging.openwire" $ | quote }}
  userName: {{  include "arkcase.tools.conf" (dict "ctx" $ "value" "messaging.username")| quote }}
  password: {{  include "arkcase.tools.conf" (dict "ctx" $ "value" "messaging.password")| quote }}
  keystore: "/app/home/.external-portal-api/arkcase.ks"
  keystore.password: "storePassword"
  truststore: "/app/home/.external-portal-api/arkcase.ts"
  truststore.password: "storePassword"
{{- end -}}
