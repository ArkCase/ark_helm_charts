{{- $oidc := (include "arkcase.oidc" $ | fromYaml) -}}
{{- if $oidc }}
{{- if and (hasKey $oidc "legacyMode") (include "arkcase.toBoolean" $oidc.legacyMode) -}}
{{- range $key, $val := $oidc.clients }}
{{- if eq $key "arkcase" }}
{{- "oidc:" }}
{{- $val | toYaml | nindent 2 }}
{{- end }}
{{- end }}
{{- else }}
oidcClientConfigs: {{- $oidc.clients | toYaml | nindent 2 }}
{{- end }}

application:
  properties:
    logoutUrl: "/oauth-url"
{{- else }}
# OIDC is not active
{{- end }}
