<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:hz="http://www.hazelcast.com/schema/spring"
    xmlns:cache="http://www.springframework.org/schema/cache"
       xsi:schemaLocation="http://www.springframework.org/schema/beans https://www.springframework.org/schema/beans/spring-beans.xsd
                http://www.hazelcast.com/schema/spring https://www.hazelcast.com/schema/spring/hazelcast-spring.xsd
                http://www.springframework.org/schema/cache https://www.springframework.org/schema/cache/spring-cache.xsd">
    <beans>
        <hz:hazelcast id="acmHazelcastInstance">
            <hz:config>
                <hz:instance-name>${acm.hazelcast.instance.name}</hz:instance-name>
                <hz:cluster-name>${acm.hazelcast.group.name}</hz:cluster-name>
                <hz:management-center scripting-enabled="false"/>
                <hz:properties>
                    <hz:property name="hazelcast.logging.type">${acm.hazelcast.logging.type}</hz:property>
                    <hz:property name="hazelcast.log.state">${acm.hazelcast.log.state}</hz:property>
                    <hz:property name="hazelcast.diagnostics.directory">${acm.hazelcast.log.folder}</hz:property>
                    <hz:property name="hazelcast.diagnostics.enabled">${acm.hazelcast.diagnostics.enabled}</hz:property>
                    <hz:property name="hazelcast.socket.bind.any">${acm.hazelcast.socket.bind.any}</hz:property>
                </hz:properties>
                <hz:network>
                    <hz:kubernetes enabled="true">
                        <hz:namespace>${KUBERNETES_NAMESPACE}</hz:namespace>
                        <!-- We must use the headless service here, since that's what's supported -->
                        <hz:service-name>${KUBERNETES_SERVICE_HEADLESS}</hz:service-name>
                    </hz:kubernetes>
                </hz:network>
                <hz:map name="default" backup-count="0" time-to-live-seconds="25">
                    <hz:eviction eviction-policy="LRU" size="0"/>
                </hz:map>
                <hz:map name="acm-authentication-token-cache" backup-count="0" time-to-live-seconds="3600">
                    <hz:eviction eviction-policy="LFU" size="0"/>
                </hz:map>
                <hz:map name="quiet-user-cache" backup-count="0" time-to-live-seconds="7200">
                    <hz:eviction eviction-policy="LRU" size="0"/>
                </hz:map>
                <hz:map name="sessions-map" backup-count="2" time-to-live-seconds="1800">
                    <hz:eviction eviction-policy="NONE" size="0"/>
                </hz:map>
            </hz:config>
        </hz:hazelcast>
    </beans>
</beans>
